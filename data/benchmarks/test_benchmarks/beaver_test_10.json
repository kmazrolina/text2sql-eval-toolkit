[
  {
    "id": "c8c2b28f0daf",
    "question": "What are the individual's email and name, academic year, total number of IAP subjects, the minimum and maximum fees, and the total course enrollment for each individual and academic year?",
    "db_id": "dw",
    "sql": [
      "SELECT\n  isp.PERSON_EMAIL,\n  isp.PERSON_NAME,\n  td.ACADEMIC_YEAR,\n  COUNT(DISTINCT isd.ACTIVITY_TITLE) AS Total_Subjects,\n  MIN(isd.FEE) AS Min_Fee,\n  MAX(isd.FEE) AS Max_Fee,\n  SUM(isd.MAX_ENROLLMENT)\nFROM IAP_SUBJECT_PERSON AS isp\nJOIN IAP_SUBJECT_DETAIL AS isd\n  ON isp.IAP_SUBJECT_PERSON_KEY = isd.IAP_SUBJECT_PERSON_KEY\nJOIN TIME_DAY AS td\n  ON isd.TERM_CODE = td.ACADEMIC_TERM_CODE\nGROUP BY\n  isp.PERSON_EMAIL,\n  isp.PERSON_NAME,\n  td.ACADEMIC_YEAR"
    ],
    "oracle_sql": "SELECT isp.PERSON_EMAIL, isp.PERSON_NAME, td.ACADEMIC_YEAR, COUNT(distinct isd.ACTIVITY_TITLE) AS Total_Subjects, MIN(isd.FEE) AS Min_Fee, MAX(isd.FEE) AS Max_Fee, SUM(isd.MAX_ENROLLMENT) FROM IAP_SUBJECT_PERSON isp JOIN IAP_SUBJECT_DETAIL isd ON isp.IAP_SUBJECT_PERSON_KEY = isd.IAP_SUBJECT_PERSON_KEY JOIN TIME_DAY td ON isd.TERM_CODE = td.ACADEMIC_TERM_CODE GROUP BY isp.PERSON_EMAIL, isp.PERSON_NAME, td.ACADEMIC_YEAR;",
    "gold_tables": [
      "dw#sep#IAP_SUBJECT_PERSON",
      "dw#sep#IAP_SUBJECT_DETAIL",
      "dw#sep#TIME_DAY"
    ],
    "mapping": {
      "email": [
        "IAP_SUBJECT_PERSON.PERSON_EMAIL"
      ],
      "name": [
        "IAP_SUBJECT_PERSON.PERSON_NAME"
      ],
      "academic year": [
        "TIME_DAY.ACADEMIC_YEAR"
      ],
      "IAP subjects": [
        "IAP_SUBJECT_DETAIL.ACTIVITY_TITLE"
      ],
      "fees": [
        "IAP_SUBJECT_DETAIL.FEE"
      ],
      "course enrollment": [
        "IAP_SUBJECT_DETAIL.MAX_ENROLLMENT"
      ]
    },
    "join_keys": [
      [
        "IAP_SUBJECT_DETAIL.IAP_SUBJECT_PERSON_KEY",
        "IAP_SUBJECT_PERSON.IAP_SUBJECT_PERSON_KEY"
      ],
      [
        "TIME_DAY.ACADEMIC_TERM_CODE",
        "IAP_SUBJECT_DETAIL.TERM_CODE"
      ]
    ],
    "original_sql": "SELECT\n  isp.PERSON_EMAIL,\n  isp.PERSON_NAME,\n  td.ACADEMIC_YEAR,\n  COUNT(DISTINCT isd.ACTIVITY_TITLE) AS Total_Subjects,\n  MIN(isd.FEE) AS Min_Fee,\n  MAX(isd.FEE) AS Max_Fee,\n  SUM(isd.MAX_ENROLLMENT)\nFROM IAP_SUBJECT_PERSON AS isp\nJOIN IAP_SUBJECT_DETAIL AS isd\n  ON isp.IAP_SUBJECT_PERSON_KEY = isd.IAP_SUBJECT_PERSON_KEY\nJOIN TIME_DAY AS td\n  ON isd.TERM_CODE = td.ACADEMIC_TERM_CODE\nGROUP BY\n  isp.PERSON_EMAIL,\n  isp.PERSON_NAME,\n  td.ACADEMIC_YEAR",
    "meta": {
      "features": {
        "query_table_count": 3,
        "query_column_count": 14,
        "query_nested_count": 0,
        "query_aggregate_count": 4,
        "query_sort_count": 0,
        "query_window_func_count": 0,
        "query_join_count": 2
      },
      "categories": [
        "has_aggregation",
        "has_join",
        "multi_table_simple"
      ]
    }
  },
  {
    "id": "4d53637af7c7",
    "question": "Group subjects by cluster type, department offering the subject, and the school name. For each group, list the cluster type, name of the department, school name, whether the department grants degrees, total number of subjects, total enrollment, and average enrollment. Exclude clusters or schools with no student data.",
    "db_id": "dw",
    "sql": [
      "WITH ClusterSummary AS (\n  SELECT\n    sos.CLUSTER_TYPE,\n    sos.OFFER_DEPT_NAME AS DEPARTMENT,\n    sd.SCHOOL_NAME,\n    COUNT(DISTINCT sos.SUBJECT_ID) AS num_subjects,\n    SUM(sos.NUM_ENROLLED_STUDENTS) AS total_enrollment,\n    AVG(sos.NUM_ENROLLED_STUDENTS) AS avg_enrollment,\n    sd.IS_DEGREE_GRANTING AS degree_granting_status\n  FROM SUBJECT_OFFERED_SUMMARY AS sos\n  LEFT JOIN SIS_COURSE_DESCRIPTION AS scd\n    ON sos.COURSE_NUMBER = scd.COURSE\n  LEFT JOIN SIS_DEPARTMENT AS sd\n    ON sos.OFFER_DEPT_CODE = sd.DEPARTMENT_CODE\n  WHERE\n    NOT sos.CLUSTER_TYPE IS NULL\n    AND sos.NUM_ENROLLED_STUDENTS > 0\n    AND NOT sd.SCHOOL_NAME IS NULL\n  GROUP BY\n    sos.CLUSTER_TYPE,\n    sos.OFFER_DEPT_NAME,\n    sd.SCHOOL_NAME,\n    sd.IS_DEGREE_GRANTING\n)\nSELECT\n  CLUSTER_TYPE,\n  DEPARTMENT,\n  SCHOOL_NAME,\n  degree_granting_status,\n  num_subjects,\n  total_enrollment,\n  avg_enrollment\nFROM ClusterSummary\nORDER BY\n  CLUSTER_TYPE,\n  DEPARTMENT,\n  SCHOOL_NAME"
    ],
    "oracle_sql": "WITH ClusterSummary AS (SELECT sos.CLUSTER_TYPE, sos.OFFER_DEPT_NAME AS DEPARTMENT, sd.SCHOOL_NAME, COUNT(DISTINCT sos.SUBJECT_ID) AS num_subjects, SUM(sos.NUM_ENROLLED_STUDENTS) AS total_enrollment, AVG(sos.NUM_ENROLLED_STUDENTS) AS avg_enrollment, sd.IS_DEGREE_GRANTING AS degree_granting_status FROM SUBJECT_OFFERED_SUMMARY sos LEFT JOIN SIS_COURSE_DESCRIPTION scd ON sos.COURSE_NUMBER = scd.COURSE LEFT JOIN SIS_DEPARTMENT sd ON sos.OFFER_DEPT_CODE = sd.DEPARTMENT_CODE WHERE sos.CLUSTER_TYPE IS NOT NULL AND sos.NUM_ENROLLED_STUDENTS > 0 AND sd.SCHOOL_NAME IS NOT NULL GROUP BY sos.CLUSTER_TYPE, sos.OFFER_DEPT_NAME, sd.SCHOOL_NAME, sd.IS_DEGREE_GRANTING) SELECT CLUSTER_TYPE, DEPARTMENT, SCHOOL_NAME, degree_granting_status, num_subjects, total_enrollment, avg_enrollment FROM ClusterSummary ORDER BY CLUSTER_TYPE, DEPARTMENT, SCHOOL_NAME;",
    "gold_tables": [
      "dw#sep#SUBJECT_OFFERED_SUMMARY",
      "dw#sep#SIS_COURSE_DESCRIPTION",
      "dw#sep#SIS_DEPARTMENT"
    ],
    "mapping": {
      "cluster type": [
        "SUBJECT_OFFERED_SUMMARY.CLUSTER_TYPE"
      ],
      "name of the department": [
        "SUBJECT_OFFERED_SUMMARY.OFFER_DEPT_NAME"
      ],
      "school name": [
        "SIS_DEPARTMENT.SCHOOL_NAME"
      ],
      "whether the department grants degrees": [
        "SIS_DEPARTMENT.IS_DEGREE_GRANTING"
      ],
      "subjects": [
        "SUBJECT_OFFERED_SUMMARY.SUBJECT_ID"
      ],
      "enrollment": [
        "SUBJECT_OFFERED_SUMMARY.NUM_ENROLLED_STUDENTS"
      ]
    },
    "join_keys": [
      [
        "SUBJECT_OFFERED_SUMMARY.COURSE_NUMBER",
        "SIS_COURSE_DESCRIPTION.COURSE"
      ],
      [
        "SIS_DEPARTMENT.DEPARTMENT_CODE",
        "SUBJECT_OFFERED_SUMMARY.OFFER_DEPT_CODE"
      ]
    ],
    "original_sql": "WITH ClusterSummary AS (\n  SELECT\n    sos.CLUSTER_TYPE,\n    sos.OFFER_DEPT_NAME AS DEPARTMENT,\n    sd.SCHOOL_NAME,\n    COUNT(DISTINCT sos.SUBJECT_ID) AS num_subjects,\n    SUM(sos.NUM_ENROLLED_STUDENTS) AS total_enrollment,\n    AVG(sos.NUM_ENROLLED_STUDENTS) AS avg_enrollment,\n    sd.IS_DEGREE_GRANTING AS degree_granting_status\n  FROM SUBJECT_OFFERED_SUMMARY AS sos\n  LEFT JOIN SIS_COURSE_DESCRIPTION AS scd\n    ON sos.COURSE_NUMBER = scd.COURSE\n  LEFT JOIN SIS_DEPARTMENT AS sd\n    ON sos.OFFER_DEPT_CODE = sd.DEPARTMENT_CODE\n  WHERE\n    NOT sos.CLUSTER_TYPE IS NULL\n    AND sos.NUM_ENROLLED_STUDENTS > 0\n    AND NOT sd.SCHOOL_NAME IS NULL\n  GROUP BY\n    sos.CLUSTER_TYPE,\n    sos.OFFER_DEPT_NAME,\n    sd.SCHOOL_NAME,\n    sd.IS_DEGREE_GRANTING\n)\nSELECT\n  CLUSTER_TYPE,\n  DEPARTMENT,\n  SCHOOL_NAME,\n  degree_granting_status,\n  num_subjects,\n  total_enrollment,\n  avg_enrollment\nFROM ClusterSummary\nORDER BY\n  CLUSTER_TYPE,\n  DEPARTMENT,\n  SCHOOL_NAME",
    "meta": {
      "features": {
        "query_table_count": 4,
        "query_column_count": 28,
        "query_nested_count": 1,
        "query_aggregate_count": 3,
        "query_sort_count": 3,
        "query_window_func_count": 0,
        "query_join_count": 2
      },
      "categories": [
        "has_aggregation",
        "has_join",
        "has_nested_query",
        "has_sorting"
      ]
    }
  },
  {
    "id": "11e570ab6390",
    "question": "What is the department name, total number of types of TIP subjects, total number of enrolled students, the minimum and maximum rental new price for each department?",
    "db_id": "dw",
    "sql": [
      "SELECT\n  tso.OFFER_DEPT_NAME,\n  COUNT(DISTINCT tso.SUBJECT_ID) AS Total_Subjects,\n  SUM(tso.NUM_ENROLLED_STUDENTS) AS Total_Enrolled_Students,\n  MIN(tm.RENTAL_NEW_PRICE) AS Min_Rental_New_Price,\n  MAX(tm.RENTAL_NEW_PRICE) AS Max_Rental_New_Price\nFROM TIP_SUBJECT_OFFERED AS tso\nJOIN TIP_DETAIL AS td\n  ON tso.TIP_SUBJECT_OFFERED_KEY = td.TIP_SUBJECT_OFFERED_KEY\nJOIN TIP_MATERIAL AS tm\n  ON td.TIP_MATERIAL_KEY = tm.TIP_MATERIAL_KEY\nGROUP BY\n  tso.OFFER_DEPT_NAME"
    ],
    "oracle_sql": "SELECT tso.OFFER_DEPT_NAME, COUNT(distinct tso.SUBJECT_ID) AS Total_Subjects, SUM(tso.NUM_ENROLLED_STUDENTS) AS Total_Enrolled_Students, MIN(tm.RENTAL_NEW_PRICE) AS Min_Rental_New_Price, MAX(tm.RENTAL_NEW_PRICE) AS Max_Rental_New_Price FROM TIP_SUBJECT_OFFERED tso JOIN TIP_DETAIL td ON tso.TIP_SUBJECT_OFFERED_KEY = td.TIP_SUBJECT_OFFERED_KEY JOIN TIP_MATERIAL tm ON td.TIP_MATERIAL_KEY = tm.TIP_MATERIAL_KEY GROUP BY tso.OFFER_DEPT_NAME;",
    "gold_tables": [
      "dw#sep#TIP_SUBJECT_OFFERED",
      "dw#sep#TIP_DETAIL",
      "dw#sep#TIP_MATERIAL"
    ],
    "mapping": {
      "department name": [
        "TIP_SUBJECT_OFFERED.OFFER_DEPT_NAME"
      ],
      "TIP subjects": [
        "TIP_SUBJECT_OFFERED.SUBJECT_ID"
      ],
      "enrolled students": [
        "TIP_SUBJECT_OFFERED.NUM_ENROLLED_STUDENTS"
      ],
      "rental new price": [
        "TIP_MATERIAL.RENTAL_NEW_PRICE"
      ]
    },
    "join_keys": [
      [
        "TIP_SUBJECT_OFFERED.TIP_SUBJECT_OFFERED_KEY",
        "TIP_DETAIL.TIP_SUBJECT_OFFERED_KEY"
      ],
      [
        "TIP_MATERIAL.TIP_MATERIAL_KEY",
        "TIP_DETAIL.TIP_MATERIAL_KEY"
      ]
    ],
    "original_sql": "SELECT\n  tso.OFFER_DEPT_NAME,\n  COUNT(DISTINCT tso.SUBJECT_ID) AS Total_Subjects,\n  SUM(tso.NUM_ENROLLED_STUDENTS) AS Total_Enrolled_Students,\n  MIN(tm.RENTAL_NEW_PRICE) AS Min_Rental_New_Price,\n  MAX(tm.RENTAL_NEW_PRICE) AS Max_Rental_New_Price\nFROM TIP_SUBJECT_OFFERED AS tso\nJOIN TIP_DETAIL AS td\n  ON tso.TIP_SUBJECT_OFFERED_KEY = td.TIP_SUBJECT_OFFERED_KEY\nJOIN TIP_MATERIAL AS tm\n  ON td.TIP_MATERIAL_KEY = tm.TIP_MATERIAL_KEY\nGROUP BY\n  tso.OFFER_DEPT_NAME",
    "meta": {
      "features": {
        "query_table_count": 3,
        "query_column_count": 10,
        "query_nested_count": 0,
        "query_aggregate_count": 4,
        "query_sort_count": 0,
        "query_window_func_count": 0,
        "query_join_count": 2
      },
      "categories": [
        "has_aggregation",
        "has_join",
        "multi_table_simple"
      ]
    }
  },
  {
    "id": "97aa8428a659",
    "question": "Provide information about network that include subnet 388ee748-7b3d-4049-99b4-7e582937bbd4.",
    "sql": [
      "SELECT networks.tenant_id AS networks_tenant_id, networks.id AS networks_id, networks.name AS networks_name, networks.status AS networks_status, networks.admin_state_up AS networks_admin_state_up, networks.mtu AS networks_mtu, networks.vlan_transparent AS networks_vlan_transparent, networks.availability_zone_hints AS networks_availability_zone_hints, networks.standard_attr_id AS networks_standard_attr_id, anon_1.subnets_network_id AS anon_1_subnets_network_id, agents_1.id AS agents_1_id, agents_1.agent_type AS agents_1_agent_type, agents_1.`binary` AS agents_1_binary, agents_1.topic AS agents_1_topic, agents_1.host AS agents_1_host, agents_1.availability_zone AS agents_1_availability_zone, agents_1.admin_state_up AS agents_1_admin_state_up, agents_1.created_at AS agents_1_created_at, agents_1.started_at AS agents_1_started_at, agents_1.heartbeat_timestamp AS agents_1_heartbeat_timestamp, agents_1.description AS agents_1_description, agents_1.configurations AS agents_1_configurations, agents_1.resource_versions AS agents_1_resource_versions, agents_1.`load` AS agents_1_load, standardattributes_1.created_at AS standardattributes_1_created_at, standardattributes_1.updated_at AS standardattributes_1_updated_at, standardattributes_1.id AS standardattributes_1_id, standardattributes_1.resource_type AS standardattributes_1_resource_type, standardattributes_1.description AS standardattributes_1_description, tags_1.standard_attr_id AS tags_1_standard_attr_id, tags_1.tag AS tags_1_tag, externalnetworks_1.network_id AS externalnetworks_1_network_id, externalnetworks_1.is_default AS externalnetworks_1_is_default, qos_network_policy_bindings_1.policy_id AS qos_network_policy_bindings_1_policy_id, qos_network_policy_bindings_1.network_id AS qos_network_policy_bindings_1_network_id, networksecuritybindings_1.network_id AS networksecuritybindings_1_network_id, networksecuritybindings_1.port_security_enabled AS networksecuritybindings_1_port_security_enabled, networkdnsdomains_1.network_id AS networkdnsdomains_1_network_id, networkdnsdomains_1.dns_domain AS networkdnsdomains_1_dns_domain FROM (SELECT DISTINCT subnets.network_id AS subnets_network_id FROM subnets WHERE subnets.id IN ('388ee748-7b3d-4049-99b4-7e582937bbd4')) AS anon_1 INNER JOIN networks ON networks.id = anon_1.subnets_network_id LEFT OUTER JOIN (networkdhcpagentbindings AS networkdhcpagentbindings_1 INNER JOIN agents AS agents_1 ON agents_1.id = networkdhcpagentbindings_1.dhcp_agent_id) ON networks.id = networkdhcpagentbindings_1.network_id LEFT OUTER JOIN standardattributes AS standardattributes_1 ON standardattributes_1.id = networks.standard_attr_id LEFT OUTER JOIN tags AS tags_1 ON standardattributes_1.id = tags_1.standard_attr_id LEFT OUTER JOIN externalnetworks AS externalnetworks_1 ON networks.id = externalnetworks_1.network_id LEFT OUTER JOIN qos_network_policy_bindings AS qos_network_policy_bindings_1 ON networks.id = qos_network_policy_bindings_1.network_id LEFT OUTER JOIN networksecuritybindings AS networksecuritybindings_1 ON networks.id = networksecuritybindings_1.network_id LEFT OUTER JOIN networkdnsdomains AS networkdnsdomains_1 ON networks.id = networkdnsdomains_1.network_id ORDER BY anon_1.subnets_network_id"
    ],
    "db_id": "csail_stata_neutron",
    "join_keys": [
      [
        "STANDARDATTRIBUTES.ID",
        "NETWORKS.STANDARD_ATTR_ID"
      ],
      [
        "STANDARDATTRIBUTES.ID",
        "TAGS.STANDARD_ATTR_ID"
      ],
      [
        "EXTERNALNETWORKS.NETWORK_ID",
        "NETWORKS.ID"
      ],
      [
        "NETWORKS.ID",
        "QOS_NETWORK_POLICY_BINDINGS.NETWORK_ID"
      ],
      [
        "NETWORKSECURITYBINDINGS.NETWORK_ID",
        "NETWORKS.ID"
      ],
      [
        "NETWORKDNSDOMAINS.NETWORK_ID",
        "NETWORKS.ID"
      ]
    ],
    "gold_tables": [
      "csail_stata_neutron#sep#NETWORKDHCPAGENTBINDINGS",
      "csail_stata_neutron#sep#SUBNETS",
      "csail_stata_neutron#sep#AGENTS",
      "csail_stata_neutron#sep#NETWORKS",
      "csail_stata_neutron#sep#STANDARDATTRIBUTES",
      "csail_stata_neutron#sep#EXTERNALNETWORKS",
      "csail_stata_neutron#sep#QOS_NETWORK_POLICY_BINDINGS",
      "csail_stata_neutron#sep#NETWORKDNSDOMAINS",
      "csail_stata_neutron#sep#TAGS",
      "csail_stata_neutron#sep#NETWORKSECURITYBINDINGS"
    ],
    "meta": {
      "features": {
        "query_table_count": 10,
        "query_column_count": 60,
        "query_nested_count": 1,
        "query_aggregate_count": 0,
        "query_sort_count": 1,
        "query_window_func_count": 0,
        "query_join_count": 9
      },
      "categories": [
        "has_join",
        "has_nested_query",
        "has_sorting"
      ]
    }
  },
  {
    "id": "1a12dddc78cf",
    "question": "For students with last names starting with K, list their names, the phone numbers of departments they belong to, total number of mailing lists each student is in, and the average size of the mailing lists each student is in.",
    "db_id": "dw",
    "sql": [
      "WITH MailingListSizes AS (\n  SELECT\n    ml.MOIRA_LIST_KEY,\n    ml.MOIRA_LIST_NAME,\n    COUNT(mld.MOIRA_LIST_MEMBER) AS List_Size\n  FROM MOIRA_LIST AS ml\n  JOIN MOIRA_LIST_DETAIL AS mld\n    ON ml.MOIRA_LIST_KEY = mld.MOIRA_LIST_KEY\n  GROUP BY\n    ml.MOIRA_LIST_KEY,\n    ml.MOIRA_LIST_NAME\n)\nSELECT\n  msd.FULL_NAME AS Student_Name,\n  sad.DEPARTMENT_PHONE_NUMBER,\n  COUNT(ml.MOIRA_LIST_KEY) AS Total_Lists,\n  AVG(MLS.List_Size) AS Avg_List_Size\nFROM MIT_STUDENT_DIRECTORY AS msd\nJOIN SIS_DEPARTMENT AS sd\n  ON msd.DEPARTMENT = sd.DEPARTMENT_CODE\nJOIN SIS_ADMIN_DEPARTMENT AS sad\n  ON sd.DEPARTMENT_CODE = sad.SIS_ADMIN_DEPARTMENT_CODE\nJOIN SE_PERSON AS se\n  ON msd.FULL_NAME = se.FULL_NAME\nJOIN MOIRA_LIST_DETAIL AS mld\n  ON UPPER(se.KRB_NAME) = UPPER(mld.MOIRA_LIST_MEMBER)\nJOIN MOIRA_LIST AS ml\n  ON mld.MOIRA_LIST_KEY = ml.MOIRA_LIST_KEY\nJOIN MailingListSizes AS MLS\n  ON ml.MOIRA_LIST_KEY = MLS.MOIRA_LIST_KEY\nWHERE\n  msd.LAST_NAME LIKE 'K%'\nGROUP BY\n  msd.FULL_NAME,\n  sad.DEPARTMENT_PHONE_NUMBER"
    ],
    "oracle_sql": "WITH MailingListSizes AS (SELECT ml.MOIRA_LIST_KEY, ml.MOIRA_LIST_NAME, COUNT(mld.MOIRA_LIST_MEMBER) AS List_Size FROM MOIRA_LIST ml JOIN MOIRA_LIST_DETAIL mld ON ml.MOIRA_LIST_KEY = mld.MOIRA_LIST_KEY GROUP BY ml.MOIRA_LIST_KEY, ml.MOIRA_LIST_NAME) SELECT msd.FULL_NAME AS Student_Name, sad.DEPARTMENT_PHONE_NUMBER, COUNT(ml.MOIRA_LIST_KEY) AS Total_Lists, AVG(MLS.List_Size) AS Avg_List_Size FROM MIT_STUDENT_DIRECTORY msd JOIN SIS_DEPARTMENT sd ON msd.DEPARTMENT = sd.DEPARTMENT_CODE JOIN SIS_ADMIN_DEPARTMENT sad ON sd.DEPARTMENT_CODE = sad.SIS_ADMIN_DEPARTMENT_CODE JOIN SE_PERSON se ON msd.FULL_NAME = se.FULL_NAME JOIN MOIRA_LIST_DETAIL mld ON upper(se.KRB_NAME) = UPPER(mld.MOIRA_LIST_MEMBER) JOIN MOIRA_LIST ml ON mld.MOIRA_LIST_KEY = ml.MOIRA_LIST_KEY JOIN MailingListSizes MLS ON ml.MOIRA_LIST_KEY = MLS.MOIRA_LIST_KEY WHERE msd.LAST_NAME LIKE 'K%' GROUP BY msd.FULL_NAME, sad.DEPARTMENT_PHONE_NUMBER;",
    "gold_tables": [
      "dw#sep#MOIRA_LIST",
      "dw#sep#MOIRA_LIST_DETAIL",
      "dw#sep#MIT_STUDENT_DIRECTORY",
      "dw#sep#SIS_DEPARTMENT",
      "dw#sep#SIS_ADMIN_DEPARTMENT",
      "dw#sep#SE_PERSON"
    ],
    "mapping": {
      "last names": [
        "MIT_STUDENT_DIRECTORY.LAST_NAME"
      ],
      "names": [
        "MIT_STUDENT_DIRECTORY.FULL_NAME"
      ],
      "phone numbers": [
        "SIS_ADMIN_DEPARTMENT.DEPARTMENT_PHONE_NUMBER"
      ],
      "mailing lists": [
        "MOIRA_LIST.MOIRA_LIST_KEY"
      ]
    },
    "join_keys": [
      [
        "MOIRA_LIST_DETAIL.MOIRA_LIST_KEY",
        "MOIRA_LIST.MOIRA_LIST_KEY"
      ],
      [
        "MIT_STUDENT_DIRECTORY.DEPARTMENT",
        "SIS_DEPARTMENT.DEPARTMENT_CODE"
      ],
      [
        "SIS_DEPARTMENT.DEPARTMENT_CODE",
        "SIS_ADMIN_DEPARTMENT.SIS_ADMIN_DEPARTMENT_CODE"
      ],
      [
        "MIT_STUDENT_DIRECTORY.FULL_NAME",
        "SE_PERSON.FULL_NAME"
      ],
      [
        "MOIRA_LIST.MOIRA_LIST_KEY",
        "MOIRA_LIST_DETAIL.MOIRA_LIST_KEY"
      ]
    ],
    "original_sql": "WITH MailingListSizes AS (\n  SELECT\n    ml.MOIRA_LIST_KEY,\n    ml.MOIRA_LIST_NAME,\n    COUNT(mld.MOIRA_LIST_MEMBER) AS List_Size\n  FROM MOIRA_LIST AS ml\n  JOIN MOIRA_LIST_DETAIL AS mld\n    ON ml.MOIRA_LIST_KEY = mld.MOIRA_LIST_KEY\n  GROUP BY\n    ml.MOIRA_LIST_KEY,\n    ml.MOIRA_LIST_NAME\n)\nSELECT\n  msd.FULL_NAME AS Student_Name,\n  sad.DEPARTMENT_PHONE_NUMBER,\n  COUNT(ml.MOIRA_LIST_KEY) AS Total_Lists,\n  AVG(MLS.List_Size) AS Avg_List_Size\nFROM MIT_STUDENT_DIRECTORY AS msd\nJOIN SIS_DEPARTMENT AS sd\n  ON msd.DEPARTMENT = sd.DEPARTMENT_CODE\nJOIN SIS_ADMIN_DEPARTMENT AS sad\n  ON sd.DEPARTMENT_CODE = sad.SIS_ADMIN_DEPARTMENT_CODE\nJOIN SE_PERSON AS se\n  ON msd.FULL_NAME = se.FULL_NAME\nJOIN MOIRA_LIST_DETAIL AS mld\n  ON UPPER(se.KRB_NAME) = UPPER(mld.MOIRA_LIST_MEMBER)\nJOIN MOIRA_LIST AS ml\n  ON mld.MOIRA_LIST_KEY = ml.MOIRA_LIST_KEY\nJOIN MailingListSizes AS MLS\n  ON ml.MOIRA_LIST_KEY = MLS.MOIRA_LIST_KEY\nWHERE\n  msd.LAST_NAME LIKE 'K%'\nGROUP BY\n  msd.FULL_NAME,\n  sad.DEPARTMENT_PHONE_NUMBER",
    "meta": {
      "features": {
        "query_table_count": 9,
        "query_column_count": 26,
        "query_nested_count": 1,
        "query_aggregate_count": 3,
        "query_sort_count": 0,
        "query_window_func_count": 0,
        "query_join_count": 7
      },
      "categories": [
        "has_aggregation",
        "has_join",
        "has_nested_query"
      ]
    }
  },
  {
    "id": "a49e228fc400",
    "question": "What is the author, school name, material status, total record counts, and total number of types of courses for each author and school?",
    "db_id": "dw",
    "sql": [
      "SELECT\n  tm.AUTHOR,\n  sd.SCHOOL_NAME,\n  tms.TIP_MATERIAL_STATUS,\n  SUM(td.RECORD_COUNT) AS Total_Record_Count,\n  COUNT(DISTINCT td.SUBJECT_ID) AS Total_Subject\nFROM TIP_DETAIL AS td\nJOIN (\n  SELECT\n    TIP_MATERIAL_KEY,\n    CASE\n      WHEN LOCATE(';', AUTHOR) > 0\n      THEN SUBSTRING(AUTHOR, 1, LOCATE(';', AUTHOR) - 1)\n      ELSE AUTHOR\n    END AS AUTHOR\n  FROM TIP_MATERIAL\n) AS tm\n  ON td.TIP_MATERIAL_KEY = tm.TIP_MATERIAL_KEY\nJOIN TIP_MATERIAL_STATUS AS tms\n  ON td.TIP_MATERIAL_STATUS_KEY = tms.TIP_MATERIAL_STATUS_KEY\nJOIN TIP_SUBJECT_OFFERED AS tso\n  ON td.TIP_SUBJECT_OFFERED_KEY = tso.TIP_SUBJECT_OFFERED_KEY\nJOIN STUDENT_DEPARTMENT AS sd\n  ON tso.OFFER_DEPT_CODE = sd.DEPARTMENT_CODE\nGROUP BY\n  tm.AUTHOR,\n  tms.TIP_MATERIAL_STATUS,\n  sd.SCHOOL_NAME"
    ],
    "oracle_sql": "SELECT tm.AUTHOR, sd.SCHOOL_NAME, tms.TIP_MATERIAL_STATUS, SUM(td.RECORD_COUNT) AS Total_Record_Count , COUNT(distinct td.SUBJECT_ID) AS Total_Subject FROM TIP_DETAIL td JOIN (select TIP_MATERIAL_KEY, CASE WHEN INSTR(AUTHOR, ';') > 0 THEN SUBSTR(AUTHOR, 1, INSTR(AUTHOR, ';') - 1) ELSE AUTHOR END AS AUTHOR FROM TIP_MATERIAL) tm ON td.TIP_MATERIAL_KEY = tm.TIP_MATERIAL_KEY JOIN TIP_MATERIAL_STATUS tms ON td.TIP_MATERIAL_STATUS_KEY = tms.TIP_MATERIAL_STATUS_KEY JOIN TIP_SUBJECT_OFFERED tso ON td.TIP_SUBJECT_OFFERED_KEY = tso.TIP_SUBJECT_OFFERED_KEY JOIN STUDENT_DEPARTMENT sd ON tso.OFFER_DEPT_CODE = sd.DEPARTMENT_CODE GROUP BY tm.AUTHOR, tms.TIP_MATERIAL_STATUS, sd.SCHOOL_NAME;",
    "gold_tables": [
      "dw#sep#TIP_DETAIL",
      "dw#sep#TIP_MATERIAL",
      "dw#sep#TIP_MATERIAL_STATUS",
      "dw#sep#TIP_SUBJECT_OFFERED",
      "dw#sep#STUDENT_DEPARTMENT"
    ],
    "mapping": {
      "author": [
        "TIP_MATERIAL.AUTHOR"
      ],
      "school name": [
        "STUDENT_DEPARTMENT.SCHOOL_NAME"
      ],
      "material status": [
        "TIP_MATERIAL_STATUS.TIP_MATERIAL_STATUS"
      ],
      "record counts": [
        "TIP_DETAIL.RECORD_COUNT"
      ],
      "courses": [
        "TIP_DETAIL.SUBJECT_ID"
      ]
    },
    "join_keys": [
      [
        "TIP_MATERIAL_STATUS.TIP_MATERIAL_STATUS_KEY",
        "TIP_DETAIL.TIP_MATERIAL_STATUS_KEY"
      ],
      [
        "TIP_SUBJECT_OFFERED.TIP_SUBJECT_OFFERED_KEY",
        "TIP_DETAIL.TIP_SUBJECT_OFFERED_KEY"
      ],
      [
        "STUDENT_DEPARTMENT.DEPARTMENT_CODE",
        "TIP_SUBJECT_OFFERED.OFFER_DEPT_CODE"
      ]
    ],
    "original_sql": "SELECT\n  tm.AUTHOR,\n  sd.SCHOOL_NAME,\n  tms.TIP_MATERIAL_STATUS,\n  SUM(td.RECORD_COUNT) AS Total_Record_Count,\n  COUNT(DISTINCT td.SUBJECT_ID) AS Total_Subject\nFROM TIP_DETAIL AS td\nJOIN (\n  SELECT\n    TIP_MATERIAL_KEY,\n    CASE\n      WHEN LOCATE(';', AUTHOR) > 0\n      THEN SUBSTRING(AUTHOR, 1, LOCATE(';', AUTHOR) - 1)\n      ELSE AUTHOR\n    END AS AUTHOR\n  FROM TIP_MATERIAL\n) AS tm\n  ON td.TIP_MATERIAL_KEY = tm.TIP_MATERIAL_KEY\nJOIN TIP_MATERIAL_STATUS AS tms\n  ON td.TIP_MATERIAL_STATUS_KEY = tms.TIP_MATERIAL_STATUS_KEY\nJOIN TIP_SUBJECT_OFFERED AS tso\n  ON td.TIP_SUBJECT_OFFERED_KEY = tso.TIP_SUBJECT_OFFERED_KEY\nJOIN STUDENT_DEPARTMENT AS sd\n  ON tso.OFFER_DEPT_CODE = sd.DEPARTMENT_CODE\nGROUP BY\n  tm.AUTHOR,\n  tms.TIP_MATERIAL_STATUS,\n  sd.SCHOOL_NAME",
    "meta": {
      "features": {
        "query_table_count": 5,
        "query_column_count": 21,
        "query_nested_count": 1,
        "query_aggregate_count": 2,
        "query_sort_count": 0,
        "query_window_func_count": 0,
        "query_join_count": 4
      },
      "categories": [
        "has_aggregation",
        "has_join",
        "has_nested_query"
      ]
    }
  },
  {
    "id": "3f3b1500ef92",
    "question": "What is the name of the building that accomodates the most students, and how many students does it accomodate?",
    "db_id": "dw",
    "sql": [
      "SELECT DISTINCT\n  building_name,\n  num_students\nFROM (\n  SELECT\n    fclt_building_key,\n    COUNT(DISTINCT full_name) AS num_students\n  FROM FCLT_ROOMS\n  JOIN MIT_STUDENT_DIRECTORY\n    ON office_location = BUILDING_ROOM\n  GROUP BY\n    fclt_building_key\n) AS a\nJOIN FCLT_BUILDING\n  ON a.fclt_building_key = FCLT_BUILDING.fclt_building_key\nJOIN (\n  SELECT\n    MAX(num_students) AS max_num_students\n  FROM (\n    SELECT\n      fclt_building_key,\n      COUNT(DISTINCT full_name) AS num_students\n    FROM FCLT_ROOMS\n    JOIN MIT_STUDENT_DIRECTORY\n      ON office_location = BUILDING_ROOM\n    GROUP BY\n      fclt_building_key\n  ) AS subquery1\n) AS b\n  ON a.num_students = b.max_num_students"
    ],
    "oracle_sql": "SELECT DISTINCT building_name, num_students FROM (SELECT fclt_building_key, COUNT(distinct full_name) as num_students FROM fclt_rooms JOIN mit_student_directory ON office_location=BUILDING_ROOM GROUP BY fclt_building_key) a JOIN fclt_building ON a.fclt_building_key = fclt_building.fclt_building_key JOIN (SELECT MAX(num_students) as max_num_students FROM (SELECT fclt_building_key, COUNT(distinct full_name) as num_students FROM fclt_rooms JOIN mit_student_directory ON office_location=BUILDING_ROOM GROUP BY fclt_building_key)) b ON a.num_students = b.max_num_students;",
    "gold_tables": [
      "dw#sep#FCLT_ROOMS",
      "dw#sep#MIT_STUDENT_DIRECTORY",
      "dw#sep#FCLT_BUILDING"
    ],
    "mapping": {
      "name of the building": [
        "FCLT_BUILDING.BUILDING_NAME"
      ],
      "students": [
        "MIT_STUDENT_DIRECTORY.FULL_NAME"
      ]
    },
    "join_keys": [
      [
        "FCLT_ROOMS.BUILDING_ROOM",
        "MIT_STUDENT_DIRECTORY.OFFICE_LOCATION"
      ],
      [
        "FCLT_ROOMS.BUILDING_ROOM",
        "MIT_STUDENT_DIRECTORY.OFFICE_LOCATION"
      ]
    ],
    "original_sql": "SELECT DISTINCT\n  building_name,\n  num_students\nFROM (\n  SELECT\n    fclt_building_key,\n    COUNT(DISTINCT full_name) AS num_students\n  FROM FCLT_ROOMS\n  JOIN MIT_STUDENT_DIRECTORY\n    ON office_location = BUILDING_ROOM\n  GROUP BY\n    fclt_building_key\n) AS a\nJOIN FCLT_BUILDING\n  ON a.fclt_building_key = fclt_building.fclt_building_key\nJOIN (\n  SELECT\n    MAX(num_students) AS max_num_students\n  FROM (\n    SELECT\n      fclt_building_key,\n      COUNT(DISTINCT full_name) AS num_students\n    FROM FCLT_ROOMS\n    JOIN MIT_STUDENT_DIRECTORY\n      ON office_location = BUILDING_ROOM\n    GROUP BY\n      fclt_building_key\n  ) AS subquery1\n) AS b\n  ON a.num_students = b.max_num_students",
    "meta": {
      "features": {
        "query_table_count": 5,
        "query_column_count": 17,
        "query_nested_count": 3,
        "query_aggregate_count": 3,
        "query_sort_count": 0,
        "query_window_func_count": 0,
        "query_join_count": 4
      },
      "categories": [
        "has_aggregation",
        "has_join",
        "has_nested_query"
      ]
    }
  },
  {
    "id": "18f89e6ab372",
    "question": "Group courses in the biology and chemistry department by whether they are current or not and the cluster type. For each group, list the current status ('CURRENT' if yes and 'NON-CURRENT' otherwise), cluster type, the maximum duration of courses (in terms of days), the maximum units, average duration (in terms of days), and average units. Include subtotals for each current status (the corresponding current status field is 'SUBTOTAL') and a grand total across all current status (the corresponding current status field is 'TOTAL'). Do not repeat the current status if it is the same as the previous row. Sort the table by current status and cluster type.",
    "db_id": "dw",
    "sql": [
      "SELECT\n  CASE\n    WHEN LAG(assign) OVER (ORDER BY IS_CURRENT_TERM DESC, assign, CLUSTER_TYPE ASC) = assign\n    THEN NULL\n    ELSE assign\n  END AS assign,\n  CLUSTER_TYPE,\n  max_duration,\n  max_units,\n  avg_dur,\n  avg_unit\nFROM (\n  SELECT\n    CASE\n      WHEN GROUPING(CLUSTER_TYPE) = 1 AND GROUPING(IS_CURRENT_TERM) = 0\n      THEN 'SUBTOTAL'\n      WHEN GROUPING(CLUSTER_TYPE) = 1 AND GROUPING(IS_CURRENT_TERM) = 1\n      THEN 'TOTAL'\n      ELSE CASE WHEN IS_CURRENT_TERM = 'Y' THEN 'CURRENT' ELSE 'NON-CURRENT' END\n    END AS assign,\n    IS_CURRENT_TERM,\n    CLUSTER_TYPE,\n    MAX(\n      DATEDIFF(STR_TO_DATE(term_end_date, '%d-%b-%y'), STR_TO_DATE(term_start_date, '%d-%b-%y'))\n    ) AS max_duration,\n    MAX(TOTAL_UNITS) AS max_units,\n    AVG(\n      DATEDIFF(STR_TO_DATE(term_end_date, '%d-%b-%y'), STR_TO_DATE(term_start_date, '%d-%b-%y'))\n    ) AS avg_dur,\n    AVG(TOTAL_UNITS) AS avg_unit\n  FROM SUBJECT_SUMMARY AS ss\n  JOIN ACADEMIC_TERMS_ALL AS ata\n    ON ata.TERM_CODE = ss.TERM_CODE\n  WHERE\n    NOT CLUSTER_TYPE IS NULL AND ss.department_name IN ('Chemistry', 'Biology')\n  GROUP BY\n    IS_CURRENT_TERM,\n    CLUSTER_TYPE\n    WITH ROLLUP\n  ORDER BY\n    IS_CURRENT_TERM DESC,\n    assign,\n    CLUSTER_TYPE ASC\n) AS tbltmp"
    ],
    "oracle_sql": "SELECT CASE WHEN LAG(assign) OVER (ORDER BY IS_CURRENT_TERM DESC, assign, CLUSTER_TYPE ASC) = assign THEN NULL ELSE assign END AS assign, CLUSTER_TYPE, max_duration, max_units, avg_dur, avg_unit FROM (SELECT CASE WHEN GROUPING(CLUSTER_TYPE) = 1 AND GROUPING(IS_CURRENT_TERM) = 0 THEN 'SUBTOTAL' WHEN GROUPING(CLUSTER_TYPE) = 1 AND GROUPING(IS_CURRENT_TERM) = 1 THEN 'TOTAL' ELSE CASE WHEN IS_CURRENT_TERM = 'Y' THEN 'CURRENT' ELSE 'NON-CURRENT' END END AS assign, IS_CURRENT_TERM, CLUSTER_TYPE, max(term_end_date-term_start_date) AS max_duration, MAX(TOTAL_UNITS) AS max_units, AVG(term_end_date-term_start_date) AS avg_dur, AVG(TOTAL_UNITS) AS avg_unit FROM SUBJECT_SUMMARY ss JOIN ACADEMIC_TERMS_ALL ata ON ata.TERM_CODE = ss.TERM_CODE WHERE CLUSTER_TYPE IS NOT NULL and ss.department_name in ('Chemistry', 'Biology') GROUP BY ROLLUP(IS_CURRENT_TERM, CLUSTER_TYPE) ORDER BY IS_CURRENT_TERM DESC, assign, CLUSTER_TYPE ASC) tbltmp",
    "gold_tables": [
      "dw#sep#SUBJECT_SUMMARY",
      "dw#sep#ACADEMIC_TERMS_ALL"
    ],
    "mapping": {
      "biology and chemistry department": [
        "SUBJECT_SUMMARY.DEPARTMENT_NAME"
      ],
      "current status": [
        "ACADEMIC_TERMS_ALL.IS_CURRENT_TERM"
      ],
      "cluster type": [
        "SUBJECT_SUMMARY.CLUSTER_TYPE"
      ],
      "duration": [
        "ACADEMIC_TERMS_ALL.TERM_END_DATE",
        "ACADEMIC_TERMS_ALL.TERM_START_DATE"
      ],
      "units": [
        "SUBJECT_SUMMARY.TOTAL_UNITS"
      ]
    },
    "join_keys": [
      [
        "ACADEMIC_TERMS_ALL.TERM_CODE",
        "SUBJECT_SUMMARY.TERM_CODE"
      ]
    ],
    "original_sql": "SELECT\n  CASE\n    WHEN LAG(assign) OVER (ORDER BY IS_CURRENT_TERM DESC, assign, CLUSTER_TYPE ASC) = assign\n    THEN NULL\n    ELSE assign\n  END AS assign,\n  CLUSTER_TYPE,\n  max_duration,\n  max_units,\n  avg_dur,\n  avg_unit\nFROM (\n  SELECT\n    CASE\n      WHEN GROUPING(CLUSTER_TYPE) = 1 AND GROUPING(IS_CURRENT_TERM) = 0\n      THEN 'SUBTOTAL'\n      WHEN GROUPING(CLUSTER_TYPE) = 1 AND GROUPING(IS_CURRENT_TERM) = 1\n      THEN 'TOTAL'\n      ELSE CASE WHEN IS_CURRENT_TERM = 'Y' THEN 'CURRENT' ELSE 'NON-CURRENT' END\n    END AS assign,\n    IS_CURRENT_TERM,\n    CLUSTER_TYPE,\n    MAX(\n      DATEDIFF(STR_TO_DATE(term_end_date, '%d-%b-%y'), STR_TO_DATE(term_start_date, '%d-%b-%y'))\n    ) AS max_duration,\n    MAX(TOTAL_UNITS) AS max_units,\n    AVG(\n      DATEDIFF(STR_TO_DATE(term_end_date, '%d-%b-%y'), STR_TO_DATE(term_start_date, '%d-%b-%y'))\n    ) AS avg_dur,\n    AVG(TOTAL_UNITS) AS avg_unit\n  FROM SUBJECT_SUMMARY AS ss\n  JOIN ACADEMIC_TERMS_ALL AS ata\n    ON ata.TERM_CODE = ss.TERM_CODE\n  WHERE\n    NOT CLUSTER_TYPE IS NULL AND ss.department_name IN ('Chemistry', 'Biology')\n  GROUP BY\n    IS_CURRENT_TERM,\n    CLUSTER_TYPE\n    WITH ROLLUP\n  ORDER BY\n    IS_CURRENT_TERM DESC,\n    assign,\n    CLUSTER_TYPE ASC\n) AS tbltmp",
    "meta": {
      "features": {
        "query_table_count": 2,
        "query_column_count": 33,
        "query_nested_count": 1,
        "query_aggregate_count": 9,
        "query_sort_count": 6,
        "query_window_func_count": 1,
        "query_join_count": 1
      },
      "categories": [
        "has_aggregation",
        "has_join",
        "has_nested_query",
        "has_sorting",
        "has_window_function"
      ]
    }
  },
  {
    "id": "b7bc764583fe",
    "question": "Provide information about subnet access control for subnet e8da8ec5-364b-4a31-afaf-f68a206b7846.",
    "sql": [
      "SELECT networkrbacs.tenant_id AS networkrbacs_tenant_id, networkrbacs.id AS networkrbacs_id, networkrbacs.target_tenant AS networkrbacs_target_tenant, networkrbacs.action AS networkrbacs_action, networkrbacs.object_id AS networkrbacs_object_id, anon_1.subnets_network_id AS anon_1_subnets_network_id \nFROM (SELECT DISTINCT subnets.network_id AS subnets_network_id \nFROM subnets \nWHERE subnets.id IN ('e8da8ec5-364b-4a31-afaf-f68a206b7846')) AS anon_1 INNER JOIN networkrbacs ON anon_1.subnets_network_id = networkrbacs.object_id ORDER BY anon_1.subnets_network_id"
    ],
    "db_id": "csail_stata_neutron",
    "join_keys": [],
    "gold_tables": [
      "csail_stata_neutron#sep#NETWORKRBACS",
      "csail_stata_neutron#sep#SUBNETS"
    ],
    "meta": {
      "features": {
        "query_table_count": 2,
        "query_column_count": 11,
        "query_nested_count": 1,
        "query_aggregate_count": 0,
        "query_sort_count": 1,
        "query_window_func_count": 0,
        "query_join_count": 1
      },
      "categories": [
        "has_join",
        "has_nested_query",
        "has_sorting"
      ]
    }
  },
  {
    "id": "a0e63c421998",
    "question": "Provide information (including info caches, and security groups) for these VMs 1453d6b3-d1a0-4649-8ac8-38f60beabb2b, 0c97d219-2dfc-4689-ad7f-fe3758d91a9e, 325b4e2d-ba54-4728-b2ed-af638cecb8cc, c2873331-af43-4ac9-82d6-d5547ecd15fa, e8202c21-082f-4182-a255-ad8e5de7932e, 26ad4e9b-215e-4b27-8718-1033f7a54c8e, 1f863dd8-76d3-4671-9b18-af456d1b2e1d, 5e028bfa-d3bd-4acd-8e7b-b293bc780814, 9480f48c-36a1-4885-9429-2d65d35f0031, 3307d967-b1cf-4c6f-b438-5fc0a8029488, 6341e0f8-9418-49e1-9f30-a7aa139f2c7b, 06758786-89b1-405e-ba26-00392864c06d, 1ab25e55-cdb4-44ae-84b9-e74b961cd463, 75ee7199-c9b6-45c9-9500-70566ec64969, 6036acdf-8118-4e8d-a98c-4cf6d4fc64c2, 4f3171be-cf1c-4a59-a3c0-8694461379f5, 514e9993-7b63-4984-a1af-8c6e33171b62, 07094c45-97cc-45a2-aef2-738a7d96a9ef, f050072f-dfba-40d6-8506-aece1c265508, c23b80b0-4d2f-4b29-8b67-9302b59bff29, 4bfb5507-31f3-4a5c-811c-996eef9b742a, 259f6b6c-8661-49a4-b171-e836f7bfd9de, 5e50080b-00a5-4df1-add3-065e69e647d6.",
    "sql": [
      "SELECT instances.created_at AS instances_created_at, instances.updated_at AS instances_updated_at, instances.deleted_at AS instances_deleted_at, instances.deleted AS instances_deleted, instances.id AS instances_id, instances.user_id AS instances_user_id, instances.project_id AS instances_project_id, instances.image_ref AS instances_image_ref, instances.kernel_id AS instances_kernel_id, instances.ramdisk_id AS instances_ramdisk_id, instances.hostname AS instances_hostname, instances.launch_index AS instances_launch_index, instances.key_name AS instances_key_name, instances.key_data AS instances_key_data, instances.power_state AS instances_power_state, instances.vm_state AS instances_vm_state, instances.task_state AS instances_task_state, instances.memory_mb AS instances_memory_mb, instances.vcpus AS instances_vcpus, instances.root_gb AS instances_root_gb, instances.ephemeral_gb AS instances_ephemeral_gb, instances.ephemeral_key_uuid AS instances_ephemeral_key_uuid, instances.host AS instances_host, instances.node AS instances_node, instances.instance_type_id AS instances_instance_type_id, instances.user_data AS instances_user_data, instances.reservation_id AS instances_reservation_id, instances.launched_at AS instances_launched_at, instances.terminated_at AS instances_terminated_at, instances.availability_zone AS instances_availability_zone, instances.display_name AS instances_display_name, instances.display_description AS instances_display_description, instances.launched_on AS instances_launched_on, instances.locked AS instances_locked, instances.locked_by AS instances_locked_by, instances.os_type AS instances_os_type, instances.architecture AS instances_architecture, instances.vm_mode AS instances_vm_mode, instances.uuid AS instances_uuid, instances.root_device_name AS instances_root_device_name, instances.default_ephemeral_device AS instances_default_ephemeral_device, instances.default_swap_device AS instances_default_swap_device, instances.config_drive AS instances_config_drive, instances.access_ip_v4 AS instances_access_ip_v4, instances.access_ip_v6 AS instances_access_ip_v6, instances.auto_disk_config AS instances_auto_disk_config, instances.progress AS instances_progress, instances.shutdown_terminate AS instances_shutdown_terminate, instances.disable_terminate AS instances_disable_terminate, instances.cell_name AS instances_cell_name, instances.internal_id AS instances_internal_id, instances.cleaned AS instances_cleaned, instance_info_caches_1.created_at AS instance_info_caches_1_created_at, instance_info_caches_1.updated_at AS instance_info_caches_1_updated_at, instance_info_caches_1.deleted_at AS instance_info_caches_1_deleted_at, instance_info_caches_1.deleted AS instance_info_caches_1_deleted, instance_info_caches_1.id AS instance_info_caches_1_id, instance_info_caches_1.network_info AS instance_info_caches_1_network_info, instance_info_caches_1.instance_uuid AS instance_info_caches_1_instance_uuid, security_groups_1.created_at AS security_groups_1_created_at, security_groups_1.updated_at AS security_groups_1_updated_at, security_groups_1.deleted_at AS security_groups_1_deleted_at, security_groups_1.deleted AS security_groups_1_deleted, security_groups_1.id AS security_groups_1_id, security_groups_1.name AS security_groups_1_name, security_groups_1.description AS security_groups_1_description, security_groups_1.user_id AS security_groups_1_user_id, security_groups_1.project_id AS security_groups_1_project_id \nFROM instances LEFT OUTER JOIN instance_info_caches AS instance_info_caches_1 ON instance_info_caches_1.instance_uuid = instances.uuid LEFT OUTER JOIN (security_group_instance_association AS security_group_instance_association_1 INNER JOIN security_groups AS security_groups_1 ON security_groups_1.id = security_group_instance_association_1.security_group_id AND security_group_instance_association_1.deleted = 0 AND security_groups_1.deleted = 0) ON security_group_instance_association_1.instance_uuid = instances.uuid AND instances.deleted = 0 \nWHERE instances.uuid IN ('1453d6b3-d1a0-4649-8ac8-38f60beabb2b', '0c97d219-2dfc-4689-ad7f-fe3758d91a9e', '325b4e2d-ba54-4728-b2ed-af638cecb8cc', 'c2873331-af43-4ac9-82d6-d5547ecd15fa', 'e8202c21-082f-4182-a255-ad8e5de7932e', '26ad4e9b-215e-4b27-8718-1033f7a54c8e', '1f863dd8-76d3-4671-9b18-af456d1b2e1d', '5e028bfa-d3bd-4acd-8e7b-b293bc780814', '9480f48c-36a1-4885-9429-2d65d35f0031', '3307d967-b1cf-4c6f-b438-5fc0a8029488', '6341e0f8-9418-49e1-9f30-a7aa139f2c7b', '06758786-89b1-405e-ba26-00392864c06d', '1ab25e55-cdb4-44ae-84b9-e74b961cd463', '75ee7199-c9b6-45c9-9500-70566ec64969', '6036acdf-8118-4e8d-a98c-4cf6d4fc64c2', '4f3171be-cf1c-4a59-a3c0-8694461379f5', '514e9993-7b63-4984-a1af-8c6e33171b62', '07094c45-97cc-45a2-aef2-738a7d96a9ef', 'f050072f-dfba-40d6-8506-aece1c265508', 'c23b80b0-4d2f-4b29-8b67-9302b59bff29', '4bfb5507-31f3-4a5c-811c-996eef9b742a', '259f6b6c-8661-49a4-b171-e836f7bfd9de', '5e50080b-00a5-4df1-add3-065e69e647d6') ORDER BY instances.created_at DESC, instances.id DESC"
    ],
    "db_id": "csail_stata_nova",
    "join_keys": [
      [
        "INSTANCE_INFO_CACHES.INSTANCE_UUID",
        "INSTANCES.UUID"
      ]
    ],
    "gold_tables": [
      "csail_stata_nova#sep#SECURITY_GROUP_INSTANCE_ASSOCIATION",
      "csail_stata_nova#sep#SECURITY_GROUPS",
      "csail_stata_nova#sep#INSTANCE_INFO_CACHES",
      "csail_stata_nova#sep#INSTANCES"
    ],
    "meta": {
      "features": {
        "query_table_count": 4,
        "query_column_count": 80,
        "query_nested_count": 0,
        "query_aggregate_count": 0,
        "query_sort_count": 2,
        "query_window_func_count": 0,
        "query_join_count": 3
      },
      "categories": [
        "has_join",
        "has_sorting",
        "multi_table_simple"
      ]
    }
  }
]